<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="415px" preserveAspectRatio="none" style="width:1386px;height:415px;" version="1.1" viewBox="0 0 1386 415" width="1386px" zoomAndPan="magnify"><defs><filter height="300%" id="f3m58dxuvqc4t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="630" x="382" y="16.708">Сервис генерации песен с интеграцией Spotify и Яндекс Музыки</text><!--MD5=[91973c96897d1b47acf069d2375b565a]
entity FE--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="495.5" y="28.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="490.5" y="33.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="490.5" y="55.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="204" x="505.5" y="51.9482">Веб-приложение (Frontend)</text><!--MD5=[645d8587175d8f7ad110cd370775931d]
entity API--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="554.5" y="141.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="549.5" y="146.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="549.5" y="168.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="564.5" y="164.9482">Backend API</text><!--MD5=[6bfa3235c4e1fb00a6f046df4f11141e]
entity LyricsGen--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="6" y="254.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1" y="259.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1" y="281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="193" x="16" y="277.9482">Модуль генерации текста</text><!--MD5=[3cef09f977cb5dbe61ff6e67a83676aa]
entity MusicGen--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="215" x="254" y="254.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="249" y="259.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="249" y="281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="195" x="264" y="277.9482">Модуль генерации музыки</text><!--MD5=[f9ba5bf973e7832d2ce5ed59077b93f7]
entity DB--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="207" x="504" y="254.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="499" y="259.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="499" y="281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="187" x="514" y="277.9482">База данных (PostgreSQL)</text><!--MD5=[57282499e613d6f260640c9b24436935]
entity MediaStore--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="746" y="254.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="741" y="259.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="741" y="281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="191" x="756" y="277.9482">Хранилище медиафайлов</text><!--MD5=[59ceac3e1bb6f0ece56988f2042cffc2]
entity Kafka--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="57" x="992" y="254.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="987" y="259.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="987" y="281.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="1002" y="277.9482">Kafka</text><!--MD5=[c6626cdc958170c11fb82eeb5ce38d0b]
entity Spotify--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="835" y="367.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="830" y="372.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="830" y="394.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="845" y="390.9482">Spotify API</text><!--MD5=[fa53fcfffcbd3a819b3978ac268d7fb9]
entity YandexMusic--><rect fill="#FEFECE" filter="url(#f3m58dxuvqc4t)" height="36.2969" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="1082.5" y="367.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1077.5" y="372.9531"/><rect fill="#FEFECE" height="5" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="1077.5" y="394.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="136" x="1092.5" y="390.9482">Яндекс Музыка API</text><!--MD5=[c3e96c83e550cc693570b49f8ef8cb4f]
link FE to API--><path d="M607.5,65.2931 C607.5,84.5231 607.5,115.5831 607.5,136.6131 " fill="none" id="FE-&gt;API" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="607.5,141.7331,611.5,132.7331,607.5,136.7331,603.5,132.7331,607.5,141.7331" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="608.5" y="108.02">REST API</text><!--MD5=[36133470c652e8591704d59e2aa87b3e]
link API to LyricsGen--><path d="M554.47,171.6931 C509.03,180.9831 441.87,194.9431 383.5,207.9531 C317.09,222.7631 241.78,240.6331 187.44,253.7231 " fill="none" id="API-&gt;LyricsGen" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="182.58,254.8931,192.267,256.6715,187.4406,253.7209,190.3913,248.8945,182.58,254.8931" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="384.5" y="221.02">gRPC / HTTP</text><!--MD5=[94561d5a37a485fc85c2d44d00768598]
link API to MusicGen--><path d="M569.6,178.0531 C524.91,198.2231 450.81,231.6531 404.15,252.7131 " fill="none" id="API-&gt;MusicGen" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="399.44,254.8331,409.2887,254.776,403.9972,252.776,405.9972,247.4845,399.44,254.8331" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="500.5" y="221.02">gRPC / HTTP</text><!--MD5=[b874c2a0ce20abc088b74c0c7c933d7a]
link API to DB--><path d="M607.5,178.2931 C607.5,197.5231 607.5,228.5831 607.5,249.6131 " fill="none" id="API-&gt;DB" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="607.5,254.7331,611.5,245.7331,607.5,249.7331,603.5,245.7331,607.5,254.7331" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="608.5" y="221.02">SQL</text><!--MD5=[d448de0b89634fef705eb48872127bf3]
link API to MediaStore--><path d="M645.09,178.0531 C689.42,198.2231 762.91,231.6531 809.2,252.7131 " fill="none" id="API-&gt;MediaStore" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="813.87,254.8331,807.3406,247.4597,809.3206,252.7587,804.0216,254.7387,813.87,254.8331" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="745.5" y="221.02">Upload / Download</text><!--MD5=[3d5241ac38fd5e95221c2c34bfb97435]
link API to Kafka--><path d="M660.59,166.5931 C714.91,173.2331 801.32,186.1931 873.5,207.9531 C913.98,220.1531 958.16,240.4031 987.41,254.8531 " fill="none" id="API-&gt;Kafka" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="991.98,257.1231,985.7093,249.5285,987.505,254.8928,982.1407,256.6885,991.98,257.1231" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="920.5" y="221.02">Публикация событий</text><!--MD5=[658cdc10c30424ee74c3ec47778f8ffb]
link Kafka to Spotify--><path d="M991.88,284.8031 C986.14,286.9031 980.14,289.0431 974.5,290.9531 C931.76,305.4431 904.28,284.6331 877.5,320.9531 C868.82,332.7331 869.85,349.3031 872.9,362.6331 " fill="none" id="Kafka-&gt;Spotify" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="874.21,367.7531,875.8741,358.0459,872.9805,362.9066,868.1197,360.0131,874.21,367.7531" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="878.5" y="334.02">События / Обновление плейлистов</text><!--MD5=[f20cacc9d5ec97eff7e747a34adccd99]
link Kafka to YandexMusic--><path d="M1049.21,282.2531 C1070.97,289.6631 1100.59,302.2631 1121.5,320.9531 C1134.46,332.5431 1144.51,349.4631 1151.17,362.9931 " fill="none" id="Kafka-&gt;YandexMusic" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1153.46,367.8131,1153.1887,357.968,1151.3042,363.3017,1145.9705,361.4172,1153.46,367.8131" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="238" x="1136.5" y="334.02">События / Обновление плейлистов</text><!--MD5=[e87d5e7f40de8f0c11e2fbebe77f6734]
@startuml
title Сервис генерации песен с интеграцией Spotify и Яндекс Музыки

component "Веб-приложение (Frontend)" as FE
component "Backend API" as API
component "Модуль генерации текста" as LyricsGen
component "Модуль генерации музыки" as MusicGen
component "База данных (PostgreSQL)" as DB
component "Хранилище медиафайлов" as MediaStore
component "Kafka" as Kafka
component "Spotify API" as Spotify
component "Яндекс Музыка API" as YandexMusic

FE - -> API : REST API
API - -> LyricsGen : gRPC / HTTP
API - -> MusicGen : gRPC / HTTP
API - -> DB : SQL
API - -> MediaStore : Upload / Download
API - -> Kafka : Публикация событий

Kafka - -> Spotify : События / Обновление плейлистов
Kafka - -> YandexMusic : События / Обновление плейлистов

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 17.0.16+8
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>